CREATE TABLE t1 (f1 INTEGER AUTO_INCREMENT PRIMARY KEY) Engine=InnoDB;
CREATE PROCEDURE do_inserts()
BEGIN
DECLARE x INT;
SET x = 1;
WHILE x <= 500 DO
INSERT INTO t1 VALUES (NULL);
COMMIT;
SET x = x + 1;
END WHILE;
END|
CALL do_inserts();;
CALL do_inserts();;
CALL do_inserts();;
CALL do_inserts();;
CALL do_inserts();;
CALL do_inserts();;
CALL do_inserts();;
CALL do_inserts();;
CALL do_inserts();;
CALL do_inserts();;
CALL do_inserts();;
CALL do_inserts();;
SELECT COUNT(*) = 6000 FROM t1;
COUNT(*) = 6000
1
SELECT COUNT(DISTINCT f1) = 6000 FROM t1;
COUNT(DISTINCT f1) = 6000
1
SELECT MAX(f1) < 15000 FROM t1;
MAX(f1) < 15000
1
SELECT AUTO_INCREMENT < 15000 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 't1';
AUTO_INCREMENT < 15000
1
SELECT COUNT(*) = 6000 FROM t1;
COUNT(*) = 6000
1
SELECT COUNT(DISTINCT f1) = 6000 FROM t1;
COUNT(DISTINCT f1) = 6000
1
SELECT MAX(f1) < 15000 FROM t1;
MAX(f1) < 15000
1
SELECT AUTO_INCREMENT < 15000 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 't1';
AUTO_INCREMENT < 15000
1
SELECT COUNT(*) = 6000 FROM t1;
COUNT(*) = 6000
1
SELECT COUNT(DISTINCT f1) = 6000 FROM t1;
COUNT(DISTINCT f1) = 6000
1
SELECT MAX(f1) < 15000 FROM t1;
MAX(f1) < 15000
1
SELECT AUTO_INCREMENT < 15000 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 't1';
AUTO_INCREMENT < 15000
1
DROP TABLE t1;
DROP PROCEDURE do_inserts;
