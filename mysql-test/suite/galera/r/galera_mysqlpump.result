CREATE TABLE ten (f1 INTEGER) ENGINE=InnoDB;
INSERT INTO ten VALUES (1),(2),(3),(4),(5),(6),(7),(8),(9),(10);
CREATE DATABASE db1;
CREATE TABLE db1.t1 (f1 INTEGER) ENGINE=InnoDB;
INSERT INTO db1.t1 SELECT 1 FROM test.ten AS a1, test.ten AS a2, test.ten AS a3;
CREATE DATABASE db2;
CREATE TABLE db2.t2 (f1 INTEGER) ENGINE=InnoDB;
INSERT INTO db2.t2 SELECT 1 FROM test.ten AS a1, test.ten AS a2, test.ten AS a3;
call mtr.add_suppression("Slave SQL: Error 'Can't drop database");
call mtr.add_suppression("Ignoring error 'Can't drop database");
call mtr.add_suppression("Query apply failed.*");
DROP DATABASE db1;
DROP DATABASE db2;
SELECT COUNT(*) = 1000 FROM db1.t1;
COUNT(*) = 1000
1
SELECT COUNT(*) = 1000 FROM db2.t2;
COUNT(*) = 1000
1
DROP DATABASE db1;
DROP DATABASE db2;
SELECT COUNT(*) = 1000 FROM db1.t1;
COUNT(*) = 1000
1
SELECT COUNT(*) = 1000 FROM db2.t2;
COUNT(*) = 1000
1
DROP DATABASE db1;
DROP DATABASE db2;
SELECT COUNT(*) = 1000 FROM db1.t1;
COUNT(*) = 1000
1
SELECT COUNT(*) = 1000 FROM db2.t2;
COUNT(*) = 1000
1
DROP DATABASE db1;
DROP DATABASE db2;
DROP TABLE ten;
